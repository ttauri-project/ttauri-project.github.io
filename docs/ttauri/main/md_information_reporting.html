<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TTauri: Information reporting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TTauri
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Information reporting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md96"></a>
Exceptions</h1>
<p>TTauri will internally use many of the exceptions of the standard library. The library also includes its own exceptions. These exceptions work the same as standard library exceptions, except that the constructor works like std::format for easy construction of the 'what' string.</p>
<ul>
<li><code><a class="el" href="classtt_1_1parse__error.html" title="Exception thrown during parsing on an error.">tt::parse_error</a></code>: Files and protocols are under control of users and for security reasons it is important to code it defensively with many checks. These checks should throw exceptions a <code><a class="el" href="classtt_1_1parse__error.html" title="Exception thrown during parsing on an error.">tt::parse_error</a></code>. For reasons of denial of service errors in a file or protocol should never cause the application to crash or terminate.</li>
<li><code><a class="el" href="classtt_1_1operation__error.html" title="Exception thrown during execution of a dynamic operation.">tt::operation_error</a></code>: Thrown when an operation on dynamic types are invalid. This can happen when processing a language.</li>
<li><code><a class="el" href="classtt_1_1io__error.html" title="Exception thrown during I/O on an error.">tt::io_error</a></code>: Thrown when there is an I/O error.</li>
<li><code><a class="el" href="classtt_1_1gui__error.html">tt::gui_error</a></code>: Exception thrown when errors happen when calling graphic APIs like Vulkan.</li>
<li><code><a class="el" href="classtt_1_1url__error.html">tt::url_error</a></code>: Thrown on invalid URLs.</li>
</ul>
<h1><a class="anchor" id="autotoc_md97"></a>
Assertions</h1>
<ul>
<li><code><a class="el" href="assert_8hpp.html#a94bb317e6294954c283e3f36e7e5450d" title="Assert if expression is true.">tt_assert()</a></code>: Used to check for programming errors, in both debug and release builds.</li>
<li><code><a class="el" href="assert_8hpp.html#a7e4741fb683d5c0fbebd761c072e3bbf" title="Specify an axiom; an expression that is true.">tt_axiom()</a></code>: Used to check for programming error in debug builds. In release builds the expression is used as a hint to the optimizer.</li>
<li><code><a class="el" href="assert_8hpp.html#a6efe0724c81422b5e0652981827f217e" title="This part of the code should not be reachable, unless a programming bug.">tt_no_default()</a></code>: Used in places that should not be reachable, such as default labels of switch statements, or unreachable else blocks.</li>
<li><code><a class="el" href="assert_8hpp.html#adef9b7e582afb72a4b94dd411fd23ddf" title="This part of the code should not be reachable, unless a programming bug.">tt_static_no_default()</a></code>: Used in unreachable constexpr else blocks.</li>
<li><code><a class="el" href="assert_8hpp.html#a6ba5da14e46c2ebdef4d5da6aacc33e0" title="This part of the code has not been implemented yet.">tt_not_implemented()</a></code>: Added when functionality should exist, but</li>
</ul>
<h1><a class="anchor" id="autotoc_md98"></a>
Counting</h1>
<p>The <code><a class="el" href="namespacett.html#a193c5d71e047b14a88b9737e0d396b6e">tt::increment_counter()</a></code> is used to increment a global counter. The template parameter is a string literal.</p>
<p>This function is designed for low latency and uses an atomic 64 bit counter. On the first count the counter is registered with the statistics logging system which logs the counter value each minute.</p>
<h1><a class="anchor" id="autotoc_md99"></a>
Tracing</h1>
<p>Instantiating a <code><a class="el" href="classtt_1_1trace.html">tt::trace</a></code> class starts a trace. A trace will track the amount if time is spend inside the trace. And extra information may be included with the trace for debugging purpose.</p>
<p>A lot of care is taken for this function to be efficient and may be used in a lot of places in the code. It uses thread_local storage. And it will be slightly more expensiving than counting.</p>
<p>The average and accumulated time spend inside a trace is logged every minute.</p>
<p>When <code><a class="el" href="namespacett.html#abe3b1bdbb3ed1f57651dfbed318ab4e4">tt::trace_record()</a></code> is called within a trace all information about he current trace and any encapsulating traces are logged. <code><a class="el" href="namespacett.html#abe3b1bdbb3ed1f57651dfbed318ab4e4">tt::trace_record()</a></code> is implicently called when using <code><a class="el" href="logger_8hpp.html#a67b7d1c8063a93399c36488ad3a87cc9">tt_log_error()</a></code>.</p>
<h1><a class="anchor" id="autotoc_md100"></a>
Logging</h1>
<p>The logging system is for logs textual messages to a console or a file. It is the main system of high level debugging.</p>
<p>A lot of care was taken to be efficient, but it is more expensive than either counting or tracing. The logger functions work like std::format however the actual formatting is delayed and offloaded to the logger thread.</p>
<p>Logging is wait-free, unless:</p><ul>
<li>the ring buffer is full which causes the logging to block.</li>
<li>objects passed as argument allocate on copy.</li>
<li>All the objects together occupies more bytes than the message in the ring buffer 224 bytes, which causes an allocation.</li>
</ul>
<p>The following log functions are available:</p><ul>
<li><code><a class="el" href="logger_8hpp.html#ac8ca946c91b062d39b4aab44e9bb0ef5">tt_log_debug()</a></code>: Logging debug information, which is used while developing the application.</li>
<li><code><a class="el" href="logger_8hpp.html#a59bd14993f487d857f4ae6931ccb6127">tt_log_info()</a></code>: Log information messages, which is used while debugging an installation of the application.</li>
<li><code><a class="el" href="logger_8hpp.html#a8b27ea5f44b80eded1ae2fc194a52746">tt_log_statistics()</a></code>: Statistics information logged by the counter and tracing system.</li>
<li><code><a class="el" href="logger_8hpp.html#a6fac52047e9b79771429ee9aae89369a">tt_log_trace()</a></code>: Information logged by the tracing system when <em>recording</em> a trace.</li>
<li><code><a class="el" href="logger_8hpp.html#aadd0be21ff0cd262765236832e17f800">tt_log_audit()</a></code>: Log audit information, for data that must be logged for security, business or regulatory reasons.</li>
<li><code><a class="el" href="logger_8hpp.html#a32a59d6ed7428e16719dd49411898455">tt_log_warning()</a></code>: Warnings are where something was wrong but the application was able to fully recover from it.</li>
<li><code><a class="el" href="logger_8hpp.html#a67b7d1c8063a93399c36488ad3a87cc9">tt_log_error()</a></code>: An error occurred which causes the application to not be fully functional but still able to operate. This will also call <code><a class="el" href="namespacett.html#abe3b1bdbb3ed1f57651dfbed318ab4e4">tt::trace_record()</a></code></li>
<li><code><a class="el" href="logger_8hpp.html#a76006d008cf42d0038d1804a48b9ffc4">tt_log_fatal()</a></code>: An unrecoverable error has occurred and the application has to terminate. This will cause the application to abort. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" width="104" height="31" alt="doxygen"/></a> 1.8.17
</small></address>
</body>
</html>
